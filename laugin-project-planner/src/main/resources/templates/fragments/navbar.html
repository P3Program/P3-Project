<html xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<nav th:fragment="navbar" class="navbar">
    <a class="logo" th:href="@{/}">LAUGIN</a>
    <ul>
        <li><a th:href="@{/}" th:classappend="${activePage == 'projects'} ? 'active' : ''">Projects</a></li>
        <li><a sec:authorize="hasRole('ADMIN')" th:href="@{/users}" th:classappend="${activePage == 'users'} ? 'active' : ''">Users</a></li>
        <li><a th:href="@{/data}" th:classappend="${activePage == 'data'} ? 'active' : ''">Data</a></li>
        <li><a th:href="@{/archive}" th:classappend="${activePage == 'archive'} ? 'active' : ''">Archive</a></li>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" />
    </ul>
    <div class="nav-right" th:if="${#authentication != null}">
        <div class="user-dropdown">
            <button class="dropdown-toggle" type="button">
                <span class="material-symbols-outlined">account_circle</span>
                <span th:text="${#authentication.name}">
                    Username</span> <i class="fa-solid fa-user"></i> â–¼
            </button>
            <div class="dropdown-menu">
                <a th:href="@{/profile}" class="dropdown-item">Profile</a>
                <form th:action="@{/logout}" method="post">
                    <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}">
                    <button type="submit">Logout</button>
                </form>
            </div>
        </div>
    </div>
</nav>